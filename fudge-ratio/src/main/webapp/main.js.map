{"version":3,"sources":["main.js"],"names":["button","document","getElementById","buttonClear","buttonAddHour","buttonMinusHour","buttonAddMinute","buttonMinusMinute","buttonAddSecond","buttonMinusSecond","text","durationText","dropdown","timerContents","durationContents","durationSubmit","style","display","textContent","addEventListener","seconds","minutes","hours","durationSec","durationMin","durationHour","timer","task","duration","padd","num","addOneSecond","updateText","startTimer","setInterval","stopTimer","clearInterval","displayMessage","value","alert","saveSessionState","classList","toggle","click","cleanSessionState","formatTaskString","op","category","options","selectedIndex","parentNode","label","formattedString","innerHTML","timeKey","indexKey","informationThere","recoverSessionState","localStorage","setItem","Date","now","getItem","loadActivities","fetch","then","response","json","activities","forEach","activity","activityType","type","appendChild","createElement","act","optionElement","name","removeItem","array","every","x","timeStarted","start","parseInt","elapsed","Math","floor","current"],"mappings":"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","file":"main.js","sourceRoot":"../../../../frontend/code","sourcesContent":["const button = document.getElementById(\"startStopButton\");\nconst buttonClear = document.getElementById(\"clear\");\nconst buttonAddHour = document.getElementById(\"add-hour\");\nconst buttonMinusHour = document.getElementById(\"minus-hour\");\nconst buttonAddMinute = document.getElementById(\"add-minute\");\nconst buttonMinusMinute = document.getElementById(\"minus-minute\");\nconst buttonAddSecond = document.getElementById(\"add-second\");\nconst buttonMinusSecond = document.getElementById(\"minus-second\");\nconst text = document.getElementById(\"timer\");\nconst durationText = document.getElementById(\"time\");\nconst dropdown = document.getElementById(\"dropdown-contents\");\nconst timerContents = document.getElementById(\"timer-contents\");\nconst durationContents = document.getElementById(\"time-duration-contents\");\nconst durationSubmit = document.getElementById(\"duration-submit\");\n\ntimerContents.style.display = \"none\";\nbutton.textContent = \"Start\";\n\ndurationSubmit.addEventListener(\"click\", () => {\n  durationContents.style.display = \"none\";\n  timerContents.style.display = \"block\";\n});\n\nlet seconds = 0,\n  minutes = 0,\n  hours = 0,\n  durationSec = 0,\n  durationMin = 0,\n  durationHour = 0;\nlet timer = null;\nlet task = \"\";\nlet duration = \" PLACE HOLDER\"; //leaving this here for now because it might interfere with how Jerry wants to do things\n\n// Concatenates a zero to the beginning of a number less than 10.\nconst padd = num => (num < 10 ? \"0\" : \"\") + num;\n\nconst addOneSecond = () => {\n  seconds++;\n  if (seconds == 60) {\n    minutes++;\n    seconds = 0;\n  }\n  if (minutes == 60) {\n    hours = (hours + 1) % 24;\n    minutes = 0;\n  }\n};\n\n// Updates the timer text in index.html to increment every second, minute, and hour.\nconst updateText = () =>\n  (text.textContent = padd(hours) + \":\" + padd(minutes) + \":\" + padd(seconds));\n\n// When the start button is clicked, the timer variable is initialized to 1 every second.\nconst startTimer = () => {\n  if (timer) return;\n  timer = setInterval(() => {\n    addOneSecond();\n    updateText();\n  }, 1000);\n};\n\n// Stops the increment of hours, minutes, and seconds on the timer.\nconst stopTimer = () => {\n  clearInterval(timer);\n  timer = null;\n  displayMessage();\n};\n\nbutton.addEventListener(\"click\", () => {\n  if (button.textContent === \"Start\") {\n    if (dropdown.value == \"\") {\n      alert(\"You must pick a task before starting\");\n      return;\n    }\n    task = dropdown.value;\n    const minutesSince = startTimer();\n    saveSessionState();\n  } else {\n    stopTimer();\n  }\n  button.classList.toggle(\"stop\");\n  text.classList.toggle(\"stopped\");\n  button.textContent = button.textContent === \"Start\" ? \"Stop\" : \"Start\";\n});\n\nbuttonClear.addEventListener(\"click\", () => {\n  if (button.textContent === \"Stop\") button.click();\n  (seconds = 0), (minutes = 0), (hours = 0);\n  updateText();\n  cleanSessionState();\n});\n\nbuttonAddHour.addEventListener(\"click\", () => {\n    durationHour += 1;\n    durationText.textContent = padd(durationHour) + \":\" + padd(durationMin) + \":\" + padd(durationSec);\n});\n\nbuttonMinusHour.addEventListener(\"click\", () => {\n    if(durationHour > 0) {\n        durationHour -= 1;\n    }\n    durationText.textContent = padd(durationHour) + \":\" + padd(durationMin) + \":\" + padd(durationSec);\n});\n\nbuttonAddMinute.addEventListener(\"click\", () => {\n    if(durationMin == 59) {\n        durationMin = 0;\n        durationHour += 1;\n    } else {\n        durationMin += 1;\n    }\n    durationText.textContent = padd(durationHour) + \":\" + padd(durationMin) + \":\" + padd(durationSec);\n});\n\nbuttonMinusMinute.addEventListener(\"click\", () => {\n    if(durationMin > 0) {\n        durationMin -= 1;\n    }\n    durationText.textContent = padd(durationHour) + \":\" + padd(durationMin) + \":\" + padd(durationSec);\n});\n\nbuttonAddSecond.addEventListener(\"click\", () => {\n    if(durationSec == 59) {\n        durationSec = 0;\n        if(durationMin == 59) {\n            durationMin = 0;\n            durationHour += 1;\n        } else {\n            durationMin += 1;\n        }\n    } else {\n        durationSec += 1;\n    }\n    durationText.textContent = padd(durationHour) + \":\" + padd(durationMin) + \":\" + padd(durationSec);\n});\n\nbuttonMinusSecond.addEventListener(\"click\", () => {\n    if(durationSec > 0) {\n        durationSec -= 1;\n    }\n    durationText.textContent = padd(durationHour) + \":\" + padd(durationMin) + \":\" + padd(durationSec);\n});\n\nconst formatTaskString = () => {\n  let op = dropdown.options[dropdown.selectedIndex];\n  let category = op.parentNode.label;\n  let formattedString = \"\";\n  if (category == \"Schoolwork\") {\n    formattedString = task + \" homework!\";\n  } else if (category == \"Job-related tasks\") {\n    formattedString = \"doing \" + task + \"!\";\n  } else formattedString = task + \"!\";\n  return formattedString;\n};\nconst displayMessage = () => {\n  document.getElementById(\"finalMessage\").innerHTML =\n    \"Next time please allocate\" + duration + \" for \" + formatTaskString();\n};\n\n// Save state in local Store ====\nconst timeKey = \"startingTime\";\nconst indexKey = \"selectedIndex\";\n\nconst saveSessionState = () => {\n  if (informationThere(recoverSessionState())) return;\n  localStorage.setItem(timeKey, Date.now());\n  localStorage.setItem(indexKey, dropdown.selectedIndex);\n};\n\nconst recoverSessionState = () => {\n  return [localStorage.getItem(timeKey), localStorage.getItem(indexKey)];\n};\n\nfunction loadActivities() {\n    fetch('/data').then(response => response.json()).then((activities) => {\n        activities.forEach((activity) => {\n            let activityType = activity.type;\n            const activityListElement = document.getElementById(activityType);\n            activityListElement.appendChild(createElement(activity));\n        })\n    });\n}\n\nfunction createElement(act) {\n    const optionElement = document.createElement(\"OPTION\");\n    optionElement.text = act.name;\n    optionElement.label = act.name;\n    optionElement.value = act.name;\n    return optionElement;\n}\n\nconst cleanSessionState = () => {\n  localStorage.removeItem(timeKey);\n  localStorage.removeItem(indexKey);\n};\n\nconst informationThere = array => array.every(x => x != null);\n\nif (informationThere(recoverSessionState())) {\n  const [timeStarted, selectedIndex] = recoverSessionState();\n  const start = parseInt(timeStarted);\n  dropdown.selectedIndex = selectedIndex;\n\n  const now = Date.now();\n  const elapsed = Math.floor((now - start) / 1000);\n\n  seconds = elapsed % 60;\n  minutes = Math.floor(elapsed / 60) % 60;\n  hours = Math.floor(elapsed / 3600) % 24;\n  updateText();\n  button.click();\n}\n\ndropdown.addEventListener(\"change\", () => {\n  const current = recoverSessionState()[1];\n  if (current) dropdown.selectedIndex = current\n});\n"]}